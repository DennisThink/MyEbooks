FETCH响应
内容：邮件数据

FETCH响应返回客户端的一个邮件的相关数据。这些数据是名称项及其值的数据对，这些对分别被放在一个圆括号中。这个响应作为一个FETCH或者STORE命令的结果发生，也可以因为单方面的服务器决定发生（例如，标记更新）。

目前的数据项有：


BODY

BODYSTRUCTURE的一种形式，不带额外数据。


BODY[<section>]<<origin octect>>

表示指定块的主体内容的一个字符串。它应当被客户端通过内容转换编码，主体类型，及子类型来解释。


如果原始字节被指定，则该字符串是整个主体内容的一个子字符串，它从那个原始字节开始。这意味着，BODY[]<0>可能是被切断的，而BODY[]是不切断的。

注意：这个原始字节的方法不能被一个服务器在一个FETCH响应中使用，除非客户端通过一个BODY[<section>]<<partial>>数据项的一个FETCH特意地请求它。

如果一个[CHARSET]标识符是这个块的主体参数组合列表的一部分，则８位文本数据是允许的。注意，头部（部分指HEADER或者MIME，或者一个MESSAGE/RFC822部分的头部），必须是７位的；８位字符在头部中是不允许的。还要注意，头部和主体间的[RFC-2822]分隔用空行并不见效于头部行的子集；该空行永远被作为头部数据的一部分被包含进来，除非邮件没有主体和空行。

非文本数据，如二进制数据，在传至客户端之前，必须转换编码为文本形式，如BASE64。客户端必须对转换编码的字符串解码，以得到原始的二进制数据。


BODYSTRUCTURE

描述一个邮件的[MIME-IMB]主体结构的一个组合列表。它是由服务器通过解析[MIME-IMB]头部域，必要情况下还包括各种默认域，计算出的。

例如，一个４８行，２２７９字节的一个简单文本邮件有一个主体结构：(“TEXT” “PLAIN” (“CHARSET” “US-ASCII”) NIL NIL “7BIT” 2279 48)。多个部分被表示为组合巢。一个或者多个巢状主体结构的一个序列，代替了作为组合列表的第一元素的一个主体类型。组合列表的第二个元素是多个子表（混合的，相减的，平行的，二择一的，等等）。

例如，由一个文本和一个BASE64编码的文本附件组成的一个两部分邮件，可以有一个主体结构：((“TEXT” “PLAIN” (“CHARSET” “US-ASCII”) NIL NIL “7BIT” 1152 23)(“TEXT” “PLAIN” (“CHARSET” “US-ASCII” “NAME” “cc.diff”)”96072316347.20117.h@cac.washington.edu” “Compiler diff” “BASE64” 4554 73) “MIXED”)

扩展数据遵从多个子表。扩展数据不会与BODY获取返回，但是可以与一个BODYSTRUCTURE获取返回。扩展数据，如果出现，必须是按被定义的顺序。一个多域主体扩展数据有以下顺序：


主体参数组合列表

属性/值对的一个组合列表　[例如，”（foo” “bar” “baz” “rag”）其中“bar”是“foo”的值，“rag”是“baz”的值]　，如[MIME-IMB]所定义的。


主体部署

一个组合列表，由一个部署类型的字符串组成，其后跟着部署属性/值对的一个组合列表，如[DISPOSITION]所定义的。


主体语言

给出了主体语言值的一个字符串或者组合列表，如[LANGUAGE-TAGS]所定义的。


主体定位

给出了主体内容的URI的一个字符串列表，如[LOCATION]所定义的。


在该协议的这个版本中，还没有定义后来的扩展数据的任何一个。这些扩展数据可以包括０或者更多的NIL，字符串，数字，或者这些数据的潜在巢状组合列表。执行一个BODYSTRUCTURE获取的客户端实现体必须有所准备地接收这些扩展数据。服务器实现体不能发送这些扩展数据，直到它已经被该协议的一个修订版所定义。

一个非多域主体部分的基本域有以下顺序：


主体类型

给出了内容媒体类型的一个字符串，如[MIME-IMB]所定义的。


主体子类型

给出了内容的子类型的一个字符串，如[MIME-IMB]所定义的。


主体参数组合列表

属性/值对的一个组合列表[例如，(“foo” “bar” “baz” “rag”)其中，”bar”是”foo”的值，”rag’是”baz”的值]，如[MIME-IMB]所定义的。


主体号

给出了内容号的一个字符串，如[MIME-IMB]所定义的。


主体描述

给出了内容描述的一个字符串，如[MIME-IMB]所定义的。


主体编码

给出了内容转换编码的一个字符串，如[MIME-IMB]所定义的。


主体大小

给出了主体的字节大小的一个数字。注意，这个大小是其转换编码中的大小，而不是任何解码结果后的大小。


MESSAGE类型和子类型的一个主体类型包括，基本域后紧跟的信封结构，主体结构，及压缩邮件的文本行大小。

TEXT类型的一个主体类型包括，基本域后紧跟的、文本行中的主体大小。注意，这个大小是其内容转换编码中的大小，而不是任何解码结果后的大小。

扩展数据跟着基本域和以上指定类型的域列表。扩展数据不会与BODY获取返回，但是可以与BODYSTRUCTURE获取返回。扩展数据，如果出现，必须按定义的顺序。

一个非多域主体部分的扩展数据有以下的顺序：


主体MD5

给出了主体MD5值的一个字符串，如[MD5]所定义的。


主体部署

一个组合列表，它与针对一个多域主体部分的主体部署有同样的内容和功能。


主体语言

给出了主体语言值的一个字符串或者组合列表，如[LANUAGE-TAGS]所定义的。


主体定位

给出了主体内容URI的一个字符串列表，如[LOCATION]所定义的。


该协议的这个版本还没有定义任何下列扩展数据，它们可能如上面所描述的，属于多域扩展数据。


ENVELOPE

描述了一个邮件的信封结构的一个组合列表。这是由服务器通过解析[RFC-2822]头部为组件部分来算出的，默认为所需要的多种域。


信封结构的域有以下顺序：日期，主题，寄信方，收信方，回复至，送至，抄送，秘密抄送，转送至，及邮件号。日期，主题，转送至，及邮件号是字符串。寄信方，收信方，回复至，送至，抄送，及秘密抄送域是地址结构的组合列表。

一个地址结构是描述一个电子邮件地址的一个组合列表。一个地址结构的域有以下的顺序：个人名称，[SMTP]域列表（路由），邮件名，及主机名。

[RFC-2822]聚合语法由主机名为NIL的一种特殊的地址结构形式指明。如果邮箱名域也是NIL，那么这是聚合的一个末尾（RFC822语法中的分号）。如果邮箱名域是非NIL的，那么这是聚合的一个开始，且邮箱名域中有聚合名称。

如果日期，主题，转送至，及邮件号头部行不出现在[RFC-2822]头部中，那么信封的相关成员为NIL；如果这些头部行出现了但是为空，那么信封的相关成员是空字符串。

注意：在“出现了但是为空“的情况下，一些服务器可能返回一个NIL信封成员。客户端应当将NIL和空字符串看成是一样的。

注意：[RFC-2822]要求所有邮件有一个正确的日期头部。因此，信封中的日期成员不能为NIL或者空字符串。

注意：[RFC-2822]要求，转送至和邮件号头部，如果出现了，就要有非空的内容。因此，信封中的转送至和邮件号成员不能是空字符串。

如果寄信方，收信方，抄送，及秘密抄送头部行出现在[RFC-2822]头部中，或者出现了但为空，则信封的相关成员为NIL。

如果发送方或者转送至的行出现在[RFC-2822]头部，或者出现了但为空，则服务器将信封的相关成员设置为与寄信方一样的值（不要求客户端获知这一点）。

注意：[RFC-2822]要求，所有的邮件都有一个正确的寄信方头部。因此，信封中的寄信方，发送方，及回复至等成员不能为NIL。


FLAGS

为该邮件设置的标记的一个组合列表。


INTERNALDATE

表示邮件的实际日期的一个字符串。


RFC822

等效于BODY[]。


RFC822.HEADER

等效于BODY[HEADER]。注意，它不会引起/Seen被设置，因为RFC822.HEADER响应数据是作为RFC822.HEADER的一个FETCH的一个结果发生的。BODY[HEADER]响应数据是作为BODY[HEADER] （引起/Seen的设置）或者BODY.PEEK[HEADER]（不会引起/Seen的设置）的一个FETCH的一个结果发生的。


RFC822.SIZE

表示邮件的[RFC-2822]大小的一个数字。


RFC822.TEXT

等效于BODY[TEXT]。


UID

表示邮件的唯一标识符的一个数字。


例子：

S: * 23 FETCH (FLAGS (/Seen) RFC822.SIZE 44827)
